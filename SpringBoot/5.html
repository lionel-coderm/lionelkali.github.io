<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第五部分SpringBoot执行器:生产就绪的功能 | lionel 技术栈</title>
    <meta name="description" content="技术改变生活">
    <link rel="icon" href="/logox.png">
    
    <link rel="preload" href="/assets/css/0.styles.400793ac.css" as="style"><link rel="preload" href="/assets/js/app.6b6e86e7.js" as="script"><link rel="preload" href="/assets/js/11.d76103e2.js" as="script"><link rel="prefetch" href="/assets/js/10.92dbe892.js"><link rel="prefetch" href="/assets/js/12.5b057577.js"><link rel="prefetch" href="/assets/js/13.54fb6ddb.js"><link rel="prefetch" href="/assets/js/14.b1a7d0d4.js"><link rel="prefetch" href="/assets/js/15.1fd61ce8.js"><link rel="prefetch" href="/assets/js/16.5decc9e0.js"><link rel="prefetch" href="/assets/js/17.efb9cc40.js"><link rel="prefetch" href="/assets/js/18.47cbd0e1.js"><link rel="prefetch" href="/assets/js/19.1d9cedb7.js"><link rel="prefetch" href="/assets/js/2.496cd5fd.js"><link rel="prefetch" href="/assets/js/20.c21b5687.js"><link rel="prefetch" href="/assets/js/21.cd15a9d7.js"><link rel="prefetch" href="/assets/js/22.64867988.js"><link rel="prefetch" href="/assets/js/23.1c906d57.js"><link rel="prefetch" href="/assets/js/24.3e681e08.js"><link rel="prefetch" href="/assets/js/25.b4976678.js"><link rel="prefetch" href="/assets/js/26.e83182d5.js"><link rel="prefetch" href="/assets/js/27.a2be4b00.js"><link rel="prefetch" href="/assets/js/28.e88115a0.js"><link rel="prefetch" href="/assets/js/29.cad83021.js"><link rel="prefetch" href="/assets/js/3.2abede73.js"><link rel="prefetch" href="/assets/js/30.6dac62b3.js"><link rel="prefetch" href="/assets/js/31.7896b337.js"><link rel="prefetch" href="/assets/js/32.cef33132.js"><link rel="prefetch" href="/assets/js/33.4be39fe9.js"><link rel="prefetch" href="/assets/js/34.a796beca.js"><link rel="prefetch" href="/assets/js/35.dbb67d71.js"><link rel="prefetch" href="/assets/js/36.5e24b7ac.js"><link rel="prefetch" href="/assets/js/37.98d16860.js"><link rel="prefetch" href="/assets/js/38.a2d836da.js"><link rel="prefetch" href="/assets/js/39.2867ffd2.js"><link rel="prefetch" href="/assets/js/4.e3439803.js"><link rel="prefetch" href="/assets/js/5.b5b2a085.js"><link rel="prefetch" href="/assets/js/6.336c7ff9.js"><link rel="prefetch" href="/assets/js/7.bc5180a4.js"><link rel="prefetch" href="/assets/js/8.dcfff2aa.js"><link rel="prefetch" href="/assets/js/9.34666713.js">
    <link rel="stylesheet" href="/assets/css/0.styles.400793ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">lionel 技术栈</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/SpringBoot/" class="nav-link router-link-active">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">Git&amp;GitLab</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/job/" class="nav-link">工作笔记</a></li><li class="dropdown-item"><!----> <a href="/OVR/" class="nav-link">重要记录</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://smallpdf.com/cn/pdf-to-word" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF转换器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text&amp;data=id%2C+name%2C+age%2C+gender%0D%0A1%2C+Lawrence%2C+39%2C+M%0D%0A2%2C+Oliver%2C+25%2C+M%0D%0A3%2C+Roberta%2C+17%2C+F%0D%0A4%2C+Bamboo%2C+70%2C+F%0D%0A" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD表格生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON表达式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://zh.numberempire.com/latexequationeditor.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公式编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  二维码生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线编码转换
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML&lt;-&gt;Properties
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BootCDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://cdn.code.baidu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度CDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://qydev.weixin.qq.com/cdn/cdnjs.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信CDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://code.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里代码库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://my.rdc.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里自动部署
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>开源镜像</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://opsx.alibaba.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OPSX
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://mirror.azure.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AZURE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DOCKER HUB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>趋势分析</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://trends.google.com/trends/?geo=US" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌趋势
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://index.baidu.com/v2/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度指数
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tongji.baidu.com/data/browser" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度流量研究院
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/fx/" class="nav-link">分享</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/japanese.html" class="nav-link">Japanese</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/SpringBoot/" class="nav-link router-link-active">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">Git&amp;GitLab</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/job/" class="nav-link">工作笔记</a></li><li class="dropdown-item"><!----> <a href="/OVR/" class="nav-link">重要记录</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://smallpdf.com/cn/pdf-to-word" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF转换器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text&amp;data=id%2C+name%2C+age%2C+gender%0D%0A1%2C+Lawrence%2C+39%2C+M%0D%0A2%2C+Oliver%2C+25%2C+M%0D%0A3%2C+Roberta%2C+17%2C+F%0D%0A4%2C+Bamboo%2C+70%2C+F%0D%0A" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD表格生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON表达式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://zh.numberempire.com/latexequationeditor.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公式编辑器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  二维码生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线编码转换
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML&lt;-&gt;Properties
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BootCDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://cdn.code.baidu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度CDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://qydev.weixin.qq.com/cdn/cdnjs.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信CDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://code.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里代码库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://my.rdc.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里自动部署
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>开源镜像</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://opsx.alibaba.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OPSX
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://mirror.azure.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AZURE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DOCKER HUB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>趋势分析</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://trends.google.com/trends/?geo=US" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌趋势
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://index.baidu.com/v2/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度指数
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tongji.baidu.com/data/browser" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度流量研究院
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/fx/" class="nav-link">分享</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/japanese.html" class="nav-link">Japanese</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>SpringBoot介绍</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>文档</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/SpringBoot/1.html" class="sidebar-link">第一部分SpringBoot文档</a></li><li><a href="/SpringBoot/2.html" class="sidebar-link">第二部分 Getting Started</a></li><li><a href="/SpringBoot/3.html" class="sidebar-link">第三部分使用SpringBoot</a></li><li><a href="/SpringBoot/4.html" class="sidebar-link">第四部分:SpringBoot特性</a></li><li><a href="/SpringBoot/5.html" class="active sidebar-link">第五部分SpringBoot执行器:生产就绪的功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_52-启用生产就绪功能" class="sidebar-link">52.启用生产就绪功能</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-endpoints" class="sidebar-link">53. Endpoints</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-1使端点" class="sidebar-link">53.1使端点</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-2暴露端点" class="sidebar-link">53.2暴露端点</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-3-securing-http-endpoints" class="sidebar-link">53.3 Securing HTTP Endpoints</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-4配置端点" class="sidebar-link">53.4配置端点</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-5用于执行器web端点的超媒体" class="sidebar-link">53.5用于执行器Web端点的超媒体</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-6-cors-support" class="sidebar-link">53.6 CORS Support</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-7实现自定义端点" class="sidebar-link">53.7实现自定义端点</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-8-health-information" class="sidebar-link">53.8 Health Information</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_53-9应用程序信息" class="sidebar-link">53.9应用程序信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-http上的监视和管理" class="sidebar-link">54. HTTP上的监视和管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-1自定义管理端点路径" class="sidebar-link">54.1自定义管理端点路径</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-2自定义管理服务器端口" class="sidebar-link">54.2自定义管理服务器端口</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-3配置特定于管理的ssl" class="sidebar-link">54.3配置特定于管理的SSL</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-4自定义管理服务器地址" class="sidebar-link">54.4自定义管理服务器地址</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_54-5禁用http端点" class="sidebar-link">54.5禁用HTTP端点</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_55-对jmx进行监视和管理" class="sidebar-link">55. 对JMX进行监视和管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_55-1自定义mbean名称" class="sidebar-link">55.1自定义MBean名称</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_55-2禁用jmx端点" class="sidebar-link">55.2禁用JMX端点</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_55-3对http上的jmx使用jolokia" class="sidebar-link">55.3对HTTP上的JMX使用Jolokia</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_56-loggers" class="sidebar-link">56. Loggers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_56-1配置一个日志程序" class="sidebar-link">56.1配置一个日志程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-metrics" class="sidebar-link">57. Metrics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-1-getting-started" class="sidebar-link">57.1 Getting started</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-2支持监控系统" class="sidebar-link">57.2支持监控系统</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-3-supported-metrics" class="sidebar-link">57.3 Supported Metrics</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-4-registering-custom-metrics" class="sidebar-link">57.4 Registering custom metrics</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-5-customizing-individual-metrics" class="sidebar-link">57.5 Customizing individual metrics</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_57-6-metrics-endpoint" class="sidebar-link">57.6 Metrics endpoint</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_58-auditing" class="sidebar-link">58. Auditing</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_59-http-tracing" class="sidebar-link">59. HTTP Tracing</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_60-过程监控" class="sidebar-link">60. 过程监控</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_60-1扩展配置" class="sidebar-link">60.1扩展配置</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_60-2以编程方式" class="sidebar-link">60.2以编程方式</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_61-cloud-foundry-support-云计算支持" class="sidebar-link">61.Cloud Foundry Support 云计算支持</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_61-1禁用extended-cloud-foundry-actuator支持" class="sidebar-link">61.1禁用Extended Cloud Foundry Actuator支持</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_61-2-cloud-foundry自签名证书" class="sidebar-link">61.2 Cloud Foundry自签名证书</a></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_61-3自定义上下文路径" class="sidebar-link">61.3自定义上下文路径</a></li></ul></li><li class="sidebar-sub-header"><a href="/SpringBoot/5.html#_62-what-to-read-next" class="sidebar-link">62.What to Read Next</a></li></ul></li><li><a href="/SpringBoot/6.html" class="sidebar-link">第六部分.部署 Spring Boot 应用</a></li><li><a href="/SpringBoot/7.html" class="sidebar-link">第七部分.SpringBootCLI</a></li><li><a href="/SpringBoot/8.html" class="sidebar-link">第八部分.构建工具插件</a></li><li><a href="/SpringBoot/9.html" class="sidebar-link">第九部分.“入门”指南</a></li><li><a href="/SpringBoot/10.html" class="sidebar-link">十.附录部分</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>java面向对象</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="第五部分springboot执行器-生产就绪的功能"><a href="#第五部分springboot执行器-生产就绪的功能" aria-hidden="true" class="header-anchor">#</a> 第五部分SpringBoot执行器:生产就绪的功能</h1> <p>Spring Boot包含许多附加功能，可以帮助您在将应用程序推向生产环境时对其进行监视和管理。您可以选择使用HTTP端点或JMX来管理和监视应用程序。审计、健康状况和度量收集也可以自动应用到您的应用程序中。</p> <h2 id="_52-启用生产就绪功能"><a href="#_52-启用生产就绪功能" aria-hidden="true" class="header-anchor">#</a> 52.启用生产就绪功能</h2> <p>Spring - Boot -致动器模块提供了Spring Boot的所有生产就绪特性。启用这些特性的最简单方法是向spring-boot- Starter -致动器“Starter”添加一个依赖项。</p> <div class="language- extra-class"><pre class="language-text"><code>执行器的定义

致动器是制造术语，指的是用于移动或控制某物的机械装置。 执行器可以通过一个小的变化产生大量的运动。
</code></pre></div><p>要将执行器添加到基于Maven的项目中，请添加以下“Starter”依赖项:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对于Gradle，请使用以下声明:</p> <div class="language- extra-class"><pre class="language-text"><code>dependencies {
	compile(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)
}
</code></pre></div><h2 id="_53-endpoints"><a href="#_53-endpoints" aria-hidden="true" class="header-anchor">#</a> 53. Endpoints</h2> <p>执行器端点允许您监视应用程序并与应用程序进行交互。Spring Boot包含许多内置端点，允许您添加自己的端点。例如，健康端点提供基本的应用程序健康信息。</p> <p>可以启用或禁用每个端点。这控制是否创建端点，以及端点的bean是否存在于应用程序上下文中。要远程访问端点，还必须通过JMX或HTTP公开端点。大多数应用程序选择HTTP，其中端点的ID和前缀/执行器映射到URL。例如，默认情况下，健康端点映射到/致动器/健康。</p> <p>可以使用以下与技术无关的端点:</p> <table><thead><tr><th>ID</th> <th>Description</th> <th>Enabled by default</th></tr></thead> <tbody><tr><td><code>auditevents</code></td> <td>公开当前应用程序的审计事件信息。</td> <td>Yes</td></tr> <tr><td><code>beans</code></td> <td>显示应用程序中所有Spring bean的完整列表。</td> <td>Yes</td></tr> <tr><td><code>caches</code></td> <td>公开可用的缓存。</td> <td>Yes</td></tr> <tr><td><code>conditions</code></td> <td>显示在配置和自动配置类上评估的条件，以及它们匹配或不匹配的原因。</td> <td>Yes</td></tr> <tr><td><code>configprops</code></td> <td>显示所有@ConfigurationProperties的排序列表。</td> <td>Yes</td></tr> <tr><td><code>env</code></td> <td>从Spring的ConfigurableEnvironment公开属性。</td> <td>Yes</td></tr> <tr><td><code>flyway</code></td> <td>显示已应用的任何Flyway数据库迁移。</td> <td>Yes</td></tr> <tr><td><code>health</code></td> <td>显示应用程序健康信息。</td> <td>Yes</td></tr> <tr><td><code>httptrace</code></td> <td>显示HTTP跟踪信息(默认情况下，最后100个HTTP请求-响应交换)。</td> <td>Yes</td></tr> <tr><td><code>info</code></td> <td>显示任意应用程序信息。</td> <td>Yes</td></tr> <tr><td><code>integrationgraph</code></td> <td>显示Spring集成图。</td> <td>Yes</td></tr> <tr><td><code>loggers</code></td> <td>显示并修改应用程序中记录器的配置。</td> <td>Yes</td></tr> <tr><td><code>liquibase</code></td> <td>显示已应用的任何Liquibase数据库迁移。</td> <td>Yes</td></tr> <tr><td><code>metrics</code></td> <td>显示当前应用程序的“度量”信息。</td> <td>Yes</td></tr> <tr><td><code>mappings</code></td> <td>显示所有@RequestMapping路径的排序列表。</td> <td>Yes</td></tr> <tr><td><code>scheduledtasks</code></td> <td>显示应用程序中计划的任务。</td> <td>Yes</td></tr> <tr><td><code>sessions</code></td> <td>允许从Spring会话支持的会话存储中检索和删除用户会话。当使用Spring Session对反应性web应用程序的支持时不可用。</td> <td>Yes</td></tr> <tr><td><code>shutdown</code></td> <td>让应用程序优雅地关闭。</td> <td>No</td></tr> <tr><td><code>threaddump</code></td> <td>执行线程转储。</td> <td>Yes</td></tr></tbody></table> <p>如果您的应用程序是web应用程序(Spring MVC、Spring WebFlux或Jersey)，您可以使用以下附加端点:</p> <table><thead><tr><th>ID</th> <th>Description</th> <th>Enabled by default</th></tr></thead> <tbody><tr><td><code>heapdump</code></td> <td>返回一个hprof堆转储文件。</td> <td>Yes</td></tr> <tr><td><code>jolokia</code></td> <td>通过HTTP公开JMX bean(当Jolokia位于类路径上时，WebFlux不能使用JMX bean)。</td> <td>Yes</td></tr> <tr><td><code>logfile</code></td> <td>返回日志文件的内容(如果是日志记录的话)。文件或日志记录。已经设置了path属性)。支持使用HTTP范围头来检索日志文件的部分内容。</td> <td>Yes</td></tr> <tr><td><code>prometheus</code></td> <td>以Prometheus服务器可以抓取的格式公开度量。</td> <td>Yes</td></tr></tbody></table> <p>要了解更多关于执行器端点及其请求和响应格式的信息，请参阅单独的API文档(HTML或PDF)。</p> <h3 id="_53-1使端点"><a href="#_53-1使端点" aria-hidden="true" class="header-anchor">#</a> 53.1使端点</h3> <p>默认情况下，除了关机之外的所有端点都是启用的。要配置端点的启用，请使用其management.endpoint.<code>&lt;id&gt;</code>。启用属性。下面的示例启用关闭端点:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoint.shutdown.enabled=true
</code></pre></div><p>如果您希望端点启用是opt-in而不是opt-out，请设置management.endpoint。默认启用的属性为false，并使用单个端点启用的属性选择返回。下面的示例启用了info端点并禁用了所有其他端点:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.enabled-by-default=false
management.endpoint.info.enabled=true
</code></pre></div><blockquote><p>禁用的端点将从应用程序上下文中完全删除。如果只想更改公开端点的技术，请使用包含和排除属性。</p></blockquote> <h3 id="_53-2暴露端点"><a href="#_53-2暴露端点" aria-hidden="true" class="header-anchor">#</a> 53.2暴露端点</h3> <p>由于端点可能包含敏感信息，应该仔细考虑何时公开它们。下表显示了内置端点的默认暴露:</p> <table><thead><tr><th>ID</th> <th>JMX</th> <th>Web</th></tr></thead> <tbody><tr><td><code>auditevents</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>beans</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>caches</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>conditions</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>configprops</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>env</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>flyway</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>health</code></td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>heapdump</code></td> <td>N/A</td> <td>No</td></tr> <tr><td><code>httptrace</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>info</code></td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>integrationgraph</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>jolokia</code></td> <td>N/A</td> <td>No</td></tr> <tr><td><code>logfile</code></td> <td>N/A</td> <td>No</td></tr> <tr><td><code>loggers</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>liquibase</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>metrics</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>mappings</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>prometheus</code></td> <td>N/A</td> <td>No</td></tr> <tr><td><code>scheduledtasks</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>sessions</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>shutdown</code></td> <td>Yes</td> <td>No</td></tr> <tr><td><code>threaddump</code></td> <td>Yes</td> <td>No</td></tr></tbody></table> <p>要更改公开的端点，请使用以下特定于技术的包含和排除属性:</p> <table><thead><tr><th>Property</th> <th>Default</th></tr></thead> <tbody><tr><td><code>management.endpoints.jmx.exposure.exclude</code></td> <td></td></tr> <tr><td><code>management.endpoints.jmx.exposure.include</code></td> <td><code>*</code></td></tr> <tr><td><code>management.endpoints.web.exposure.exclude</code></td> <td></td></tr> <tr><td><code>management.endpoints.web.exposure.include</code></td> <td><code>info, health</code></td></tr></tbody></table> <p>include属性列出公开的端点的id。exclude属性列出不应该公开的端点的id。排除属性优先于包含属性。可以使用端点id列表配置include和exclude属性。</p> <p>例如，要停止在JMX上公开所有端点，只公开health和info端点，请使用以下属性:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.jmx.exposure.include=health,info
</code></pre></div><p>*可用于选择所有端点。例如，要在HTTP上公开除env和bean端点之外的所有内容，请使用以下属性:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.exposure.include=*
management.endpoints.web.exposure.exclude=env,beans
</code></pre></div><blockquote><p>*在YAML中有特殊的含义，所以如果想包含(或排除)所有端点，请务必添加引号，如下面的示例所示:</p> <div class="language- extra-class"><pre class="language-text"><code>management:
  endpoints:
    web:
      exposure:
        include: &quot;*&quot;
</code></pre></div></blockquote> <blockquote><p>如果您的应用程序是公开的，我们强烈建议您也保护您的端点。</p></blockquote> <blockquote><p>如果您想实现自己的策略，以便在公开端点时使用，您可以注册EndpointFilter bean。</p></blockquote> <h3 id="_53-3-securing-http-endpoints"><a href="#_53-3-securing-http-endpoints" aria-hidden="true" class="header-anchor">#</a> 53.3 Securing HTTP Endpoints</h3> <p>您应该像保护任何其他敏感URL一样保护HTTP端点。如果存在Spring Security，则默认情况下使用Spring Security的内容协商策略来保护端点。例如，如果希望为HTTP端点配置自定义安全性，只允许具有特定角色的用户访问它们，Spring Boot提供了一些方便的RequestMatcher对象，可以将它们与Spring安全性结合使用。</p> <p>一个典型的Spring安全配置可能如下例所示:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActuatorSecurity</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		http<span class="token punctuation">.</span><span class="token function">requestMatcher</span><span class="token punctuation">(</span><span class="token class-name">EndpointRequest</span><span class="token punctuation">.</span><span class="token function">toAnyEndpoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;ENDPOINT_ADMIN&quot;</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">httpBasic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>前面的示例使用EndpointRequest.toAnyEndpoint()将请求匹配到任何端点，然后确保所有端点都具有ENDPOINT_ADMIN角色。EndpointRequest上还有其他一些匹配方法。有关详细信息，请参阅API文档(HTML或PDF)。</p> <p>如果您在防火墙后部署应用程序，您可能希望所有执行器端点都可以在不需要身份验证的情况下访问。您可以通过更改management.endpoints.web.exposure来实现这一点。包括财产，如下:</p> <p><strong>application.properties.</strong></p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.exposure.include=*
</code></pre></div><p>此外，如果存在Spring安全性，则需要添加自定义安全性配置，允许对端点进行未经身份验证的访问，如下面的示例所示:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActuatorSecurity</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		http<span class="token punctuation">.</span><span class="token function">requestMatcher</span><span class="token punctuation">(</span><span class="token class-name">EndpointRequest</span><span class="token punctuation">.</span><span class="token function">toAnyEndpoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="_53-4配置端点"><a href="#_53-4配置端点" aria-hidden="true" class="header-anchor">#</a> 53.4配置端点</h3> <p>端点自动缓存响应，以读取不接受任何参数的操作。要配置端点缓存响应的时间量，请使用其缓存。生存时间属性。下面的示例将bean端点缓存的生存时间设置为10秒:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoint.beans.cache.time-to-live=10s
</code></pre></div><blockquote><p>前缀management.endpoint。<code>&lt;name&gt;</code>用于惟一地标识正在配置的端点。</p></blockquote> <blockquote><p>当发出经过身份验证的HTTP请求时，主体被视为端点的输入，因此响应不会被缓存。</p></blockquote> <h3 id="_53-5用于执行器web端点的超媒体"><a href="#_53-5用于执行器web端点的超媒体" aria-hidden="true" class="header-anchor">#</a> 53.5用于执行器Web端点的超媒体</h3> <p>添加了“发现页面”，其中包含指向所有端点的链接。 默认情况下，“执行页面”在/actuator上可用。</p> <p>配置自定义管理上下文路径时，“发现页面”会自动从/actuator移动到管理上下文的根目录。 例如，如果管理上下文路径是/ management，则可以从/ management获取发现页面。 当管理上下文路径设置为/时，将禁用发现页面以防止与其他映射冲突的可能性。</p> <h3 id="_53-6-cors-support"><a href="#_53-6-cors-support" aria-hidden="true" class="header-anchor">#</a> 53.6 CORS Support</h3> <p>跨源资源共享(Cross-origin resource sharing, CORS)是一种W3C规范，它允许您以灵活的方式指定授权了哪种跨域请求。如果使用Spring MVC或Spring WebFlux，执行器的web端点可以配置为支持此类场景。</p> <p>默认情况下禁用CORS支持，并且只在management.endpoints.web.cors启用一次。已经设置了allo韦德-origin属性。下面的配置允许从example.com域获取和发布调用:</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.cors.allowed-origins=http://example.com
management.endpoints.web.cors.allowed-methods=GET,POST
</code></pre></div><blockquote><p>有关选项的完整列表，请参见CorsEndpointProperties。</p></blockquote> <h3 id="_53-7实现自定义端点"><a href="#_53-7实现自定义端点" aria-hidden="true" class="header-anchor">#</a> 53.7实现自定义端点</h3> <p>如果使用@Endpoint添加一个@Bean注释，那么使用@ReadOperation、@WriteOperation或@DeleteOperation注释的任何方法都会通过JMX自动公开，在web应用程序中也会通过HTTP公开。端点可以使用Jersey、Spring MVC或Spring WebFlux通过HTTP公开。</p> <p>您还可以使用@JmxEndpoint或@WebEndpoint编写特定于技术的端点。这些端点受各自技术的限制。例如，@WebEndpoint仅在HTTP上公开，而不在JMX上公开。</p> <p>您可以使用@ endpointwebexstrain和@EndpointJmxExtension编写特定于技术的扩展。这些注释允许您提供特定于技术的操作来增强现有端点。</p> <p>最后，如果需要访问特定于web框架的功能，可以实现Servlet或Spring @Controller和@RestController端点，代价是它们不能通过JMX或在使用不同的web框架时可用。</p> <h4 id="_53-7-1-receiving-input"><a href="#_53-7-1-receiving-input" aria-hidden="true" class="header-anchor">#</a> 53.7.1 Receiving Input</h4> <p>端点上的操作通过其参数接收输入。当通过web公开时，这些参数的值取自URL的查询参数和JSON请求体。当通过JMX公开时，参数被映射到MBean操作的参数。默认情况下需要参数。可以使用@org.springframework.lang.Nullable注释它们，使它们成为可选的。</p> <p>JSON请求体中的每个根属性都可以映射到端点的一个参数。考虑以下JSON请求体:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;name&quot;: &quot;test&quot;,
	&quot;counter&quot;: 42
}
</code></pre></div><p>这可用于调用接受字符串名称和int计数器参数的写操作。</p> <blockquote><p>因为端点与技术无关，所以只能在方法签名中指定简单类型。尤其不支持使用定义名称和计数器属性的自定义类型声明单个参数。</p></blockquote> <blockquote><p>要允许将输入映射到操作方法的参数，实现端点的Java代码应该用-parameters编译，实现端点的Kotlin代码应该用-java-parameters编译。如果您使用Spring Boot的Gradle插件，或者使用Maven和Spring - Boot -starter-parent，这将自动发生。</p></blockquote> <p><strong>输入类型转换</strong></p> <p>如果需要，传递给端点操作方法的参数将自动转换为所需类型。在调用操作方法之前，使用ApplicationConversionService实例将通过JMX或HTTP请求接收的输入转换为所需的类型。</p> <h4 id="_53-7-2自定义web端点"><a href="#_53-7-2自定义web端点" aria-hidden="true" class="header-anchor">#</a> 53.7.2自定义Web端点</h4> <p>使用Jersey、Spring MVC或Spring WebFlux在HTTP上自动公开@Endpoint、@WebEndpoint或@ endpointwebex张力上的操作。</p> <p><strong>Web Endpoint Request Predicates Web(端点请求谓词)</strong></p> <p>为web公开端点上的每个操作自动生成一个请求谓词。</p> <p><strong>Path</strong></p> <p>谓词的路径由端点的ID和Web暴露的端点的基本路径确定。 默认基本路径是/ actuator。 例如，具有ID会话的端点将使用/ actuator / sessions作为其在谓词中的路径。</p> <p>通过使用@Selector注释操作方法的一个或多个参数，可以进一步定制路径。这样的参数作为路径变量添加到路径谓词。当调用端点操作时，变量的值被传递到操作方法中。</p> <p><strong>HTTP method</strong></p> <p>谓词的HTTP方法由操作类型决定，如下表所示:</p> <table><thead><tr><th>Operation</th> <th>HTTP method</th></tr></thead> <tbody><tr><td><code>@ReadOperation</code></td> <td><code>GET</code></td></tr> <tr><td><code>@WriteOperation</code></td> <td><code>POST</code></td></tr> <tr><td><code>@DeleteOperation</code></td> <td><code>DELETE</code></td></tr></tbody></table> <p><strong>Consumes</strong></p> <p>对于使用请求体的@WriteOperation (HTTP POST)，谓词的子句是application/vnd.spring-boot.actuator.v2 + json, application / json。对于所有其他操作，子句都是空的。</p> <p><strong>Produces</strong></p> <p>谓词的produces子句可以由@DeleteOperation、@ReadOperation和@WriteOperation注释的produces属性确定。属性是可选的。如果不使用它，则自动确定produces子句。</p> <p>如果操作方法返回void或Void，则yield子句为空。 如果操作方法返回org.springframework.core.io.Resource，则produce子句为application / octet-stream。 对于所有其他操作，produce子句是application / vnd.spring-boot.actuator.v2 + json，application / json。</p> <p><strong>Web端点响应状态</strong></p> <p>端点操作的默认响应状态取决于操作类型（读取，写入或删除）以及操作返回的内容（如果有）。</p> <p>@ReadOperation返回一个值，响应状态为200（OK）。 如果它未返回值，则响应状态将为404（未找到）。</p> <p>如果@WriteOperation或@DeleteOperation返回值，则响应状态将为200（OK）。 如果它没有返回值，则响应状态将为204（无内容）。</p> <p>如果在没有必需参数的情况下调用操作，或者使用无法转换为所需类型的参数，则不会调用操作方法，并且响应状态将为400（错误请求）。</p> <p><strong>Web端点范围请求</strong></p> <p>HTTP范围请求可用于请求部分HTTP资源。 使用Spring MVC或Spring Web Flux时，返回org.springframework.core.io.Resource的操作会自动支持范围请求。</p> <blockquote><p>使用Jersey时不支持范围请求。</p></blockquote> <p><strong>Web端点安全</strong></p> <p>Web端点或特定于Web的端点扩展上的操作可以接收当前的java.security.Principal或org.springframework.boot.actuate.endpoint.SecurityContext作为方法参数。 前者通常与@Nullable结合使用，为经过身份验证和未经身份验证的用户提供不同的行为。 后者通常用于使用其isUserInRole（String）方法执行授权检查。</p> <h4 id="_53-7-3-servlet端点"><a href="#_53-7-3-servlet端点" aria-hidden="true" class="header-anchor">#</a> 53.7.3 Servlet端点</h4> <p>通过实现一个带有@ServletEndpoint注释的类，Servlet可以作为端点公开，该类也实现了Supplier <code>&lt;EndpointServlet&gt;</code>。 Servlet端点提供与Servlet容器更深层次的集成，但代价是可移植性。 它们旨在用于将现有Servlet作为端点公开。 对于新端点，应尽可能首选@Endpoint和@WebEndpoint注释。</p> <h4 id="_53-7-4控制器端点"><a href="#_53-7-4控制器端点" aria-hidden="true" class="header-anchor">#</a> 53.7.4控制器端点</h4> <p>@ControllerEndpoint和@RestControllerEndpoint可用于实现仅由Spring MVC或Spring WebFlux公开的端点。 使用Spring MVC和Spring WebFlux的标准注释（如@RequestMapping和@GetMapping）映射方法，并将端点的ID用作路径的前缀。 控制器端点提供与Spring的Web框架更深层次的集成，但代价是可移植性。 应尽可能首选@Endpoint和@WebEndpoint注释。</p> <h3 id="_53-8-health-information"><a href="#_53-8-health-information" aria-hidden="true" class="header-anchor">#</a> 53.8 Health Information</h3> <p>您可以使用运行状况信息来检查正在运行的应用程序的状态。 监视软件经常使用它在生产系统出现故障时提醒某人。 运行状况端点公开的信息取决于management.endpoint.health.show-details属性，该属性可以使用以下值之一进行配置：</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>never</code></td> <td>细节从未显示。</td></tr> <tr><td><code>when-authorized</code></td> <td>详细信息只显示给授权用户。可以使用management.endpoint.health.roles配置授权角色。</td></tr> <tr><td><code>always</code></td> <td>所有用户都可以看到详细信息。</td></tr></tbody></table> <p>默认值为Never。当一个用户在一个或多个端点的角色中时，该用户被认为是被授权的。如果终结点没有配置的角色（默认），则所有经过身份验证的用户都将被视为已授权。可以使用management.endpoint.health.roles属性配置角色。</p> <blockquote><p>如果已经保护了应用程序并希望始终使用，则安全配置必须允许已验证和未验证用户访问health端点。</p></blockquote> <p>健康信息是从HealthIndicator注册表的内容中收集的（默认情况下，应用程序上下文中定义的所有HealthIndicator实例）。SpringBoot包含许多自动配置的健康指示器，您还可以编写自己的健康指示器。默认情况下，最终系统状态由HealthAggregator派生，它根据状态的有序列表对每个HealthIndicator的状态进行排序。排序列表中的第一个状态用作总体运行状况。如果没有HealthIndicator返回HealthAggregator已知的状态，则使用未知状态。</p> <blockquote><p>HealthIndicatorRegistry可用于在运行时注册和注销健康指示器。</p></blockquote> <h4 id="_53-8-1自动配置healthindicators"><a href="#_53-8-1自动配置healthindicators" aria-hidden="true" class="header-anchor">#</a> 53.8.1自动配置HealthIndicators</h4> <p>下面的healthindicator是由Spring Boot在适当的时候自动配置的:</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>CassandraHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查是否启动了Cassandra数据库。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>CouchbaseHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Couchbase集群是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/system/DiskSpaceHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>DiskSpaceHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查磁盘空间是否不足。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jdbc/DataSourceHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>DataSourceHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查是否可以获得到数据源的连接。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>ElasticsearchHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Elasticsearch集群是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/influx/InfluxDbHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>InfluxDbHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查InfluxDB服务器是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jms/JmsHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>JmsHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查JMS代理是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mail/MailHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>MailHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查邮件服务器是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>MongoHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Mongo数据库是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/neo4j/Neo4jHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>Neo4jHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查是否启动了Neo4j服务器。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/amqp/RabbitHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>RabbitHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查兔子服务器是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>RedisHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Redis服务器是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/solr/SolrHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>SolrHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Solr服务器是否已启动。</td></tr></tbody></table> <blockquote><p>您可以通过设置management.health.default .enabled属性禁用它们。</p></blockquote> <h4 id="_53-8-2编写自定义healthindicators"><a href="#_53-8-2编写自定义healthindicators" aria-hidden="true" class="header-anchor">#</a> 53.8.2编写自定义HealthIndicators</h4> <p>要提供自定义健康信息，可以注册实现HealthIndicator接口的Spring bean。您需要提供health()方法的实现并返回一个health响应。健康响应应该包含一个状态，并且可以选择包含要显示的其他详细信息。下面的代码显示了HealthIndicator实现示例:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>actuate<span class="token punctuation">.</span>health</span><span class="token punctuation">.</span><span class="token class-name">Health</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>actuate<span class="token punctuation">.</span>health</span><span class="token punctuation">.</span><span class="token class-name">HealthIndicator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHealthIndicator</span> <span class="token keyword">implements</span> <span class="token class-name">HealthIndicator</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Health</span> <span class="token function">health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// perform some specific health check</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token class-name">Health</span><span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDetail</span><span class="token punctuation">(</span><span class="token string">&quot;Error Code&quot;</span><span class="token punctuation">,</span> errorCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token class-name">Health</span><span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>给定HealthIndicator的标识符是bean的名称，如果它存在，则没有HealthIndicator后缀。在前面的示例中，健康信息在名为my的条目中可用。</p></blockquote> <p>除了Spring Boot的预定义状态类型之外，Health还可以返回表示新系统状态的自定义状态。 在这种情况下，还需要提供HealthAggregator接口的自定义实现，或者必须使用management.health.status.order配置属性配置默认实现。</p> <p>例如，假设在HealthIndicator实现中使用了一个带有code FATAL的新状态。若要配置严重性顺序，请将以下属性添加到您的应用程序属性中:</p> <div class="language- extra-class"><pre class="language-text"><code>management.health.status.order=FATAL, DOWN, OUT_OF_SERVICE, UNKNOWN, UP
</code></pre></div><p>响应中的HTTP状态代码反映总体健康状态(例如，UP映射到200,OUT_OF_SERVICE映射到503)。如果通过HTTP访问健康端点，还可能需要注册自定义状态映射。例如，下面的属性将致命映射到503(服务不可用):</p> <div class="language- extra-class"><pre class="language-text"><code>management.health.status.http-mapping.FATAL=503
</code></pre></div><blockquote><p>如果需要更多的控制，可以定义自己的HealthStatusHttpMapper bean。</p></blockquote> <table><thead><tr><th>Status</th> <th>Mapping</th></tr></thead> <tbody><tr><td>DOWN</td> <td>SERVICE_UNAVAILABLE (503)</td></tr> <tr><td>OUT_OF_SERVICE</td> <td>SERVICE_UNAVAILABLE (503)</td></tr> <tr><td>UP</td> <td>No mapping by default, so http status is 200</td></tr> <tr><td>UNKNOWN</td> <td>No mapping by default, so http status is 200</td></tr></tbody></table> <h4 id="_53-8-3-reactive-health-indicators"><a href="#_53-8-3-reactive-health-indicators" aria-hidden="true" class="header-anchor">#</a> 53.8.3 Reactive Health Indicators</h4> <p>对于反应性应用程序，例如那些使用Spring WebFlux的应用程序，ReactiveHealthIndicator提供了一个非阻塞契约来获得应用程序的健康状态。与传统的HealthIndicator类似，健康信息是从ReactiveHealthIndicatorRegistry的内容中收集的(默认情况下，应用程序上下文中定义的所有HealthIndicator和ReactiveHealthIndicator实例)。不检查反应性API的常规HealthIndicator在弹性调度器上执行。</p> <blockquote><p>在反应性应用程序中，可以使用ReactiveHealthIndicatorRegistry在运行时注册和注销健康指示器。</p></blockquote> <p>要从反应性API提供自定义健康信息，可以注册实现ReactiveHealthIndicator接口的Spring bean。下面的代码显示了一个示例ReactiveHealthIndicator实现:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyReactiveHealthIndicator</span> <span class="token keyword">implements</span> <span class="token class-name">ReactiveHealthIndicator</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Health</span><span class="token punctuation">&gt;</span></span> <span class="token function">health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">doHealthCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//perform some specific health check that returns a Mono&lt;Health&gt;</span>
			<span class="token punctuation">.</span><span class="token function">onErrorResume</span><span class="token punctuation">(</span>ex <span class="token operator">-&gt;</span> <span class="token class-name">Mono</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Health</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>要自动处理错误，请考虑从AbstractReactiveHealthIndicator扩展。</p></blockquote> <h4 id="_53-8-4自动配置reactivehealthindicators"><a href="#_53-8-4自动配置reactivehealthindicators" aria-hidden="true" class="header-anchor">#</a> 53.8.4自动配置ReactiveHealthIndicators</h4> <p>以下ReactiveHealthIndicators是由Spring Boot在适当的时候自动配置的:</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraReactiveHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>CassandraReactiveHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查是否启动了Cassandra数据库。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseReactiveHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>CouchbaseReactiveHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Couchbase集群是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoReactiveHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>MongoReactiveHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Mongo数据库是否已启动。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisReactiveHealthIndicator.java" target="_blank" rel="noopener noreferrer"><code>RedisReactiveHealthIndicator</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>检查Redis服务器是否已启动。</td></tr></tbody></table> <blockquote><p>如有必要，反应性指标取代常规指标。此外，任何未显式处理的HealthIndicator都会自动包装。</p></blockquote> <h3 id="_53-9应用程序信息"><a href="#_53-9应用程序信息" aria-hidden="true" class="header-anchor">#</a> 53.9应用程序信息</h3> <p>应用程序信息公开从应用程序上下文中定义的所有InfoContributor bean收集的各种信息。Spring Boot包含许多自动配置的InfoContributor bean，您可以编写自己的bean。</p> <h4 id="_53-9-1自动配置infocontributors"><a href="#_53-9-1自动配置infocontributors" aria-hidden="true" class="header-anchor">#</a> 53.9.1自动配置InfoContributors</h4> <p>以下InfoContributor bean在适当的时候通过Spring Boot自动配置:</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/EnvironmentInfoContributor.java" target="_blank" rel="noopener noreferrer"><code>EnvironmentInfoContributor</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>在info键下从环境中公开任何键。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/GitInfoContributor.java" target="_blank" rel="noopener noreferrer"><code>GitInfoContributor</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>如果git.properties文件可用，则公开git信息。</td></tr> <tr><td><a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/BuildInfoContributor.java" target="_blank" rel="noopener noreferrer"><code>BuildInfoContributor</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>如果是META-INF/build-info，则公开构建信息。属性文件可用。</td></tr></tbody></table> <blockquote><p>可以通过设置management.info.default .enabled属性禁用它们。</p></blockquote> <h4 id="_53-9-2自定义应用信息"><a href="#_53-9-2自定义应用信息" aria-hidden="true" class="header-anchor">#</a> 53.9.2自定义应用信息</h4> <p>您可以通过设置info来自定义信息端点公开的数据。* Spring属性。 信息键下的所有环境属性都会自动公开。 例如，您可以将以下设置添加到application.properties文件中：</p> <div class="language- extra-class"><pre class="language-text"><code>info.app.encoding=UTF-8
info.app.java.source=1.8
info.app.java.target=1.8
</code></pre></div><blockquote><p>您还可以在构建时展开info属性，而不是硬编码这些值。</p> <p>假设您使用Maven，您可以将前面的示例重写如下:</p> <div class="language- extra-class"><pre class="language-text"><code>info.app.encoding=@project.build.sourceEncoding@
info.app.java.source=@java.version@
info.app.java.target=@java.version@
</code></pre></div></blockquote> <h4 id="_53-9-3-git提交信息"><a href="#_53-9-3-git提交信息" aria-hidden="true" class="header-anchor">#</a> 53.9.3 Git提交信息</h4> <p>info端点的另一个有用功能是它能够在构建项目时发布有关git源代码存储库状态的信息。 如果GitProperties bean可用，则公开git.branch，git.commit.id和git.commit.time属性。</p> <blockquote><p>如果git.properties文件在类路径的根目录中可用，则会自动配置GitProperties bean。 有关更多详细信息，请参阅“生成git信息”。</p></blockquote> <p>如果希望显示完整的git信息(即git.properties的完整内容)，请使用management.info.git.mode属性，如下所示:</p> <div class="language- extra-class"><pre class="language-text"><code>management.info.git.mode=full
</code></pre></div><h4 id="_53-9-4构建信息"><a href="#_53-9-4构建信息" aria-hidden="true" class="header-anchor">#</a> 53.9.4构建信息</h4> <p>如果BuildProperties bean可用，则info端点还可以发布有关构建的信息。如果是META-INF/build-info，就会发生这种情况。属性文件在类路径中可用。</p> <blockquote><p>Maven和Gradle插件都可以生成该文件。有关详细信息，请参阅“生成构建信息”。</p></blockquote> <h4 id="_53-9-5编写自定义infocontributors"><a href="#_53-9-5编写自定义infocontributors" aria-hidden="true" class="header-anchor">#</a> 53.9.5编写自定义InfoContributors</h4> <p>要提供自定义应用程序信息，可以注册实现InfoContributor接口的Spring bean。</p> <p>下面的示例提供了一个只有一个值的示例条目:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Collections</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>actuate<span class="token punctuation">.</span>info</span><span class="token punctuation">.</span><span class="token class-name">Info</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>actuate<span class="token punctuation">.</span>info</span><span class="token punctuation">.</span><span class="token class-name">InfoContributor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleInfoContributor</span> <span class="token keyword">implements</span> <span class="token class-name">InfoContributor</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contribute</span><span class="token punctuation">(</span><span class="token class-name">Info</span><span class="token punctuation">.</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		builder<span class="token punctuation">.</span><span class="token function">withDetail</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">,</span>
				<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonMap</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>如果您到达info端点，您应该看到包含以下附加条目的响应:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;example&quot;: {
		&quot;key&quot; : &quot;value&quot;
	}
}
</code></pre></div><h2 id="_54-http上的监视和管理"><a href="#_54-http上的监视和管理" aria-hidden="true" class="header-anchor">#</a> 54. HTTP上的监视和管理</h2> <p>如果您正在开发一个Web应用程序，那么SpringBootActuator会自动配置所有启用的端点通过HTTP公开。默认约定是使用前缀为/actuator的端点的ID作为URL路径。例如，<code>health</code> 暴露为/actuator/health。提示：执行器由SpringMVC、SpringWebFlux和Jersey本地支持。</p> <h3 id="_54-1自定义管理端点路径"><a href="#_54-1自定义管理端点路径" aria-hidden="true" class="header-anchor">#</a> 54.1自定义管理端点路径</h3> <p>有时，定制管理端点的前缀很有用。例如，您的应用程序可能已经将/actuator用于其他目的。可以使用management.endpoints.web.base-path属性更改管理端点的前缀，如下例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.base-path=/manage
</code></pre></div><p>前面的application.properties示例将端点从/actuator/id更改为/manage/id（例如，/manage/info）。</p> <blockquote><p>除非管理端口已配置为使用其他HTTP端口公开终结点，否则management.endpoints.web.base-path相对于server.servlet.context-path。如果配置了management.server.port，则management.endpoints.web.base-path相对于management.server.servlet.context-path。</p></blockquote> <p>如果希望将端点映射到不同的路径，可以使用management.endpoints.web。路径映射性质。</p> <p>下面的示例remaps/actuator/health to/healthcheck：</p> <p><strong>application.properties.</strong></p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.base-path=/
management.endpoints.web.path-mapping.health=healthcheck
</code></pre></div><h3 id="_54-2自定义管理服务器端口"><a href="#_54-2自定义管理服务器端口" aria-hidden="true" class="header-anchor">#</a> 54.2自定义管理服务器端口</h3> <p>对于基于云的部署，使用默认HTTP端口公开管理端点是一个明智的选择。但是，如果您的应用程序在您自己的数据中心中运行，您可能更愿意使用不同的HTTP端口来公开端点。</p> <p>您可以设置management.server。端口属性来更改HTTP端口，如下例所示:</p> <div class="language- extra-class"><pre class="language-text"><code>management.server.port=8081
</code></pre></div><h3 id="_54-3配置特定于管理的ssl"><a href="#_54-3配置特定于管理的ssl" aria-hidden="true" class="header-anchor">#</a> 54.3配置特定于管理的SSL</h3> <p>当配置为使用自定义端口时，还可以使用各种management.server. SSL配置管理服务器自己的SSL.*属性。例如，这样做可以让管理服务器通过HTTP可用，而主应用程序使用HTTPS，如下面的属性设置所示:</p> <div class="language- extra-class"><pre class="language-text"><code>server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:store.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=false
</code></pre></div><p>此外，主服务器和管理服务器都可以使用SSL，但密钥存储库不同，如下所示:</p> <div class="language- extra-class"><pre class="language-text"><code>server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:main.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=true
management.server.ssl.key-store=classpath:management.jks
management.server.ssl.key-password=secret
</code></pre></div><h3 id="_54-4自定义管理服务器地址"><a href="#_54-4自定义管理服务器地址" aria-hidden="true" class="header-anchor">#</a> 54.4自定义管理服务器地址</h3> <p>通过设置management.server.address属性，可以自定义管理终结点可用的地址。如果您只想在面向内部或操作的网络上侦听，或者只侦听来自本地主机的连接，那么这样做可能很有用。</p> <blockquote><p>只有当端口与主服务器端口不同时，才能侦听不同的地址。</p></blockquote> <p>以下示例application.properties不允许远程管理连接：</p> <div class="language- extra-class"><pre class="language-text"><code>management.server.port=8081
management.server.address=127.0.0.1
</code></pre></div><h3 id="_54-5禁用http端点"><a href="#_54-5禁用http端点" aria-hidden="true" class="header-anchor">#</a> 54.5禁用HTTP端点</h3> <p>如果不希望通过HTTP公开端点，可以将管理端口设置为-1，如下面的示例所示:</p> <div class="language- extra-class"><pre class="language-text"><code>management.server.port=-1
</code></pre></div><p>这也可以使用management.endpoints.web.exposure.exclude属性来实现，如下例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.web.exposure.exclude=*
</code></pre></div><h2 id="_55-对jmx进行监视和管理"><a href="#_55-对jmx进行监视和管理" aria-hidden="true" class="header-anchor">#</a> 55. 对JMX进行监视和管理</h2> <p>Java管理扩展（JMX）提供标准的应用和管理的监控机制。默认的启动模式，exposes泉JMX管理mbeans as the org.springframework.boot端点在时域。</p> <h3 id="_55-1自定义mbean名称"><a href="#_55-1自定义mbean名称" aria-hidden="true" class="header-anchor">#</a> 55.1自定义MBean名称</h3> <p>MBean的名称通常由端点的ID生成。例如，健康端点公开为org.springframework.boot:type=endpoint，name=health。</p> <p>如果应用程序包含多个SpringApplicationContext，则可能会发现名称冲突。要解决此问题，可以将spring.jmx.unique-names属性设置为true，以便MBean名称始终是唯一的。</p> <p>您还可以自定义公开端点的JMX域。下面的设置显示了在application.properties中这样做的一个例子:</p> <div class="language- extra-class"><pre class="language-text"><code>spring.jmx.unique-names=true
management.endpoints.jmx.domain=com.example.myapp
</code></pre></div><h3 id="_55-2禁用jmx端点"><a href="#_55-2禁用jmx端点" aria-hidden="true" class="header-anchor">#</a> 55.2禁用JMX端点</h3> <p>如果不希望通过JMX公开端点，可以将management.endpoints.jmx.exposure.exclude属性设置为*，如下例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoints.jmx.exposure.exclude=*
</code></pre></div><h3 id="_55-3对http上的jmx使用jolokia"><a href="#_55-3对http上的jmx使用jolokia" aria-hidden="true" class="header-anchor">#</a> 55.3对HTTP上的JMX使用Jolokia</h3> <p>Jolokia是一个JMX- http桥接器，它提供了访问JMX bean的另一种方法。要使用Jolokia，请包含对org.jolokia: Jolokia -core的依赖项。例如，使用Maven，您将添加以下依赖项:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jolokia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jolokia-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后，可以通过向management.endpoints.web.exposure添加Jolokia或*来公开Jolokia端点。包括财产。然后可以在管理HTTP服务器上使用/致动器/jolokia访问它。</p> <h4 id="_55-3-1-customizing-jolokia"><a href="#_55-3-1-customizing-jolokia" aria-hidden="true" class="header-anchor">#</a> 55.3.1 Customizing Jolokia</h4> <p>Jolokia有许多传统上通过设置servlet参数来配置的设置。通过Spring引导，您可以使用application.properties文件。为此，请在参数前面加上management.endpoint.jolokia.config.，如下例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoint.jolokia.config.debug=true
</code></pre></div><h4 id="_55-3-2-disabling-jolokia"><a href="#_55-3-2-disabling-jolokia" aria-hidden="true" class="header-anchor">#</a> 55.3.2 Disabling Jolokia</h4> <p>如果使用jolokia但不希望Spring引导对其进行配置，请将management.endpoint.jolokia.enabled属性设置为false，如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>management.endpoint.jolokia.enabled=false
</code></pre></div><h2 id="_56-loggers"><a href="#_56-loggers" aria-hidden="true" class="header-anchor">#</a> 56. Loggers</h2> <p>Spring Boot致动器包括在运行时查看和配置应用程序日志级别的功能。您可以查看整个列表或单个日志程序的配置，该配置由显式配置的日志级别和日志框架提供给它的有效日志级别组成。这些级别可以是:</p> <ul><li><code>TRACE</code></li> <li><code>DEBUG</code></li> <li><code>INFO</code></li> <li><code>WARN</code></li> <li><code>ERROR</code></li> <li><code>FATAL</code></li> <li><code>OFF</code></li> <li><code>null</code></li></ul> <p>null表示没有显式配置。</p> <h3 id="_56-1配置一个日志程序"><a href="#_56-1配置一个日志程序" aria-hidden="true" class="header-anchor">#</a> 56.1配置一个日志程序</h3> <p>要配置给定的日志程序，请将部分实体发布到资源的URI，如下面的示例所示:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;configuredLevel&quot;: &quot;DEBUG&quot;
}
</code></pre></div><blockquote><p>要“重置”记录器的特定级别（并使用默认配置），可以将空值作为配置级别传递。</p></blockquote> <h2 id="_57-metrics"><a href="#_57-metrics" aria-hidden="true" class="header-anchor">#</a> 57. Metrics</h2> <p>Spring Boot Actuator为测微计提供依赖性管理和自动配置，测微计是一种支持多种监控系统的应用程序度量外观，包括：</p> <ul><li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-appoptics" target="_blank" rel="noopener noreferrer">AppOptics<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-atlas" target="_blank" rel="noopener noreferrer">Atlas<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-datadog" target="_blank" rel="noopener noreferrer">Datadog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-dynatrace" target="_blank" rel="noopener noreferrer">Dynatrace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-elastic" target="_blank" rel="noopener noreferrer">Elastic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-ganglia" target="_blank" rel="noopener noreferrer">Ganglia<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-graphite" target="_blank" rel="noopener noreferrer">Graphite<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-humio" target="_blank" rel="noopener noreferrer">Humio<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-influx" target="_blank" rel="noopener noreferrer">Influx<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-jmx" target="_blank" rel="noopener noreferrer">JMX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-kairos" target="_blank" rel="noopener noreferrer">KairosDB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-newrelic" target="_blank" rel="noopener noreferrer">New Relic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-prometheus" target="_blank" rel="noopener noreferrer">Prometheus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-signalfx" target="_blank" rel="noopener noreferrer">SignalFx<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-simple" target="_blank" rel="noopener noreferrer">Simple (in-memory)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-statsd" target="_blank" rel="noopener noreferrer">StatsD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-metrics-export-wavefront" target="_blank" rel="noopener noreferrer">Wavefront<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>要了解更多关于千分尺的功能，请参考它的参考文档，特别是概念部分。</p></blockquote> <h3 id="_57-1-getting-started"><a href="#_57-1-getting-started" aria-hidden="true" class="header-anchor">#</a> 57.1 Getting started</h3> <p>Spring Boot自动配置复合MeterRegistry，并为组合路径中找到的每个受支持的实现添加一个注册表。 在运行时类路径中依赖micrometer-registry- {system}足以让Spring Boot配置注册表。</p> <p>大多数注册管理机构都有共同点 例如，即使Micrometer注册表实现位于类路径上，您也可以禁用特定的注册表。 例如，要禁用Datadog：</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.datadog.enabled=false
</code></pre></div><p>Spring Boot还会在Metrics类的全局静态复合注册表中添加任何自动配置的注册表，除非您明确告诉它不要:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.use-global-registry=false
</code></pre></div><p>您可以注册任意数量的MeterRegistryCustomizer bean来进一步配置注册表，例如在注册表注册任何表之前应用公共标记:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">MeterRegistryCustomizer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MeterRegistry</span><span class="token punctuation">&gt;</span></span> <span class="token function">metricsCommonTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> registry <span class="token operator">-&gt;</span> registry<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">commonTags</span><span class="token punctuation">(</span><span class="token string">&quot;region&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;us-east-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>您可以通过更具体的泛型类型将定制应用到特定的注册表实现:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">MeterRegistryCustomizer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GraphiteMeterRegistry</span><span class="token punctuation">&gt;</span></span> <span class="token function">graphiteMetricsNamingConvention</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> registry <span class="token operator">-&gt;</span> registry<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">namingConvention</span><span class="token punctuation">(</span>MY_CUSTOM_CONVENTION<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有了这样的设置，您可以在组件中注入MeterRegistry并注册指标:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleBean</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Counter</span> counter<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">SampleBean</span><span class="token punctuation">(</span><span class="token class-name">MeterRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">=</span> registry<span class="token punctuation">.</span><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">&quot;received.messages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// handle message implementation</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Spring Boot还配置了内置的工具(即MeterBinder实现)，您可以通过配置或专用的注释标记来控制这些工具。</p> <h3 id="_57-2支持监控系统"><a href="#_57-2支持监控系统" aria-hidden="true" class="header-anchor">#</a> 57.2支持监控系统</h3> <h4 id="_57-2-1-appoptics"><a href="#_57-2-1-appoptics" aria-hidden="true" class="header-anchor">#</a> 57.2.1 AppOptics</h4> <p>默认情况下，AppOptics注册表定期将指标推送到api.appoptics.com/v1/measurements。要将指标导出到SaaS应用程序，必须提供API令牌:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.appoptics.api-token=YOUR_TOKEN
</code></pre></div><h4 id="_57-2-2-atlas"><a href="#_57-2-2-atlas" aria-hidden="true" class="header-anchor">#</a> 57.2.2 Atlas</h4> <p>默认情况下，指标被导出到运行在本地机器上的Atlas。可用以下方法提供要使用的Atlas服务器的位置:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.atlas.uri=http://atlas.example.com:7101/api/v1/publish
</code></pre></div><h4 id="_57-2-3-datadog"><a href="#_57-2-3-datadog" aria-hidden="true" class="header-anchor">#</a> 57.2.3 Datadog</h4> <p>Datadog registry定期将度量数据推送到datadoghq。要将指标导出到Datadog，必须提供API密钥:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.datadog.api-key=YOUR_KEY
</code></pre></div><p>您还可以更改将度量发送到Datadog的时间间隔:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.datadog.step=30s
</code></pre></div><h4 id="_57-2-4-dynatrace"><a href="#_57-2-4-dynatrace" aria-hidden="true" class="header-anchor">#</a> 57.2.4 Dynatrace</h4> <p>Dynatrace registry定期将指标推送到配置的URI。要将指标导出到Dynatrace，必须提供API令牌、设备ID和URI:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.dynatrace.api-token=YOUR_TOKEN
management.metrics.export.dynatrace.device-id=YOUR_DEVICE_ID
management.metrics.export.dynatrace.uri=YOUR_URI
</code></pre></div><p>您还可以更改将度量发送到Dynatrace的时间间隔:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.dynatrace.step=30s
</code></pre></div><h4 id="_57-2-5-elastic"><a href="#_57-2-5-elastic" aria-hidden="true" class="header-anchor">#</a> 57.2.5 Elastic</h4> <p>默认情况下，指标被导出到本地机器上运行的Elastic。使用以下属性可以提供要使用的弹性服务器的位置:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.elastic.host=http://elastic.example.com:8086
</code></pre></div><h4 id="_57-2-6-ganglia"><a href="#_57-2-6-ganglia" aria-hidden="true" class="header-anchor">#</a> 57.2.6 Ganglia</h4> <p>默认情况下，度量标准将导出到在本地计算机上运行的Graphite。 可以使用以下方式提供要使用的Graphite服务器主机和端口：</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.graphite.host=graphite.example.com
management.metrics.export.graphite.port=9004
</code></pre></div><p>Micrometer提供了一个默认的HierarchicalNameMapper，它管理维度计数器id如何映射到平面分层名称。</p> <blockquote><p>要控制此行为，请定义GraphiteMeterRegistry并提供自己的HierarchicalNameMapper。 除非您自己定义，否则提供自动配置的GraphiteConfig和Clock bean：</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">GraphiteMeterRegistry</span> <span class="token function">graphiteMeterRegistry</span><span class="token punctuation">(</span><span class="token class-name">GraphiteConfig</span> config<span class="token punctuation">,</span> <span class="token class-name">Clock</span> clock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GraphiteMeterRegistry</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> clock<span class="token punctuation">,</span> MY_HIERARCHICAL_MAPPER<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_57-2-8-humio"><a href="#_57-2-8-humio" aria-hidden="true" class="header-anchor">#</a> 57.2.8 Humio</h4> <p>默认情况下，Humio注册表定期将指标推送到cloud.humio.com。要将指标导出到SaaS Humio，必须提供API令牌:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.humio.api-token=YOUR_TOKEN
</code></pre></div><p>您还应该配置一个或多个标记来标识将被推送到哪些度量的数据源:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.humio.tags.alpha=a
management.metrics.export.humio.tags.bravo=b
</code></pre></div><h4 id="_57-2-9-influx"><a href="#_57-2-9-influx" aria-hidden="true" class="header-anchor">#</a> 57.2.9 Influx</h4> <p>默认情况下，度量标准将导出到本地计算机上运行的Influx。 要使用的Influx服务器的位置可以使用：</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.influx.uri=http://influx.example.com:8086
</code></pre></div><h4 id="_57-2-10-jmx"><a href="#_57-2-10-jmx" aria-hidden="true" class="header-anchor">#</a> 57.2.10 JMX</h4> <p>Micrometer提供了到JMX的层次映射，主要是作为一种廉价且可移植的方法来查看本地指标。默认情况下，指标被导出到metrics JMX域。可以使用以下方法提供要使用的域:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.jmx.domain=com.example.app.metrics
</code></pre></div><p>Micrometer提供一个默认的HierarchicalNameMapper，用于管理维度表id如何映射到平面分级名称。</p> <blockquote><p>要控制这种行为，请定义JmxMeterRegistry并提供自己的层次结构名称映射器。提供一个自动配置的JmxConfig和时钟bean，除非您定义了自己的:</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">JmxMeterRegistry</span> <span class="token function">jmxMeterRegistry</span><span class="token punctuation">(</span><span class="token class-name">JmxConfig</span> config<span class="token punctuation">,</span> <span class="token class-name">Clock</span> clock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JmxMeterRegistry</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> clock<span class="token punctuation">,</span> MY_HIERARCHICAL_MAPPER<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_57-2-11-kairosdb"><a href="#_57-2-11-kairosdb" aria-hidden="true" class="header-anchor">#</a> 57.2.11 KairosDB</h4> <p>默认情况下，指标被导出到运行在本地机器上的KairosDB。要使用的KairosDB服务器的位置可以通过以下方式提供:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.kairos.uri=http://kairosdb.example.com:8080/api/v1/datapoints
</code></pre></div><h4 id="_57-2-12-new-relic"><a href="#_57-2-12-new-relic" aria-hidden="true" class="header-anchor">#</a> 57.2.12 New Relic</h4> <p>New Relic registry定期将度量数据推送到New Relic。要将指标导出到New Relic，必须提供API密钥和帐户id:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.newrelic.api-key=YOUR_KEY
management.metrics.export.newrelic.account-id=YOUR_ACCOUNT_ID
</code></pre></div><p>您还可以更改将度量发送到New Relic的时间间隔:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.newrelic.step=30s
</code></pre></div><h4 id="_57-2-13-prometheus"><a href="#_57-2-13-prometheus" aria-hidden="true" class="header-anchor">#</a> 57.2.13 Prometheus</h4> <p>Prometheus希望通过抓取或轮询单个应用程序实例来获得指标。Spring Boot在/actuator/prometheus上提供了一个执行器端点，可以用适当的格式显示prometheus刮片。</p> <blockquote><p>缺省情况下端点不可用，必须公开端点，请参阅公开端点以获得更多详细信息。</p></blockquote> <p>下面是一个要添加到prometheus.yml中的scrape_config示例:</p> <div class="language- extra-class"><pre class="language-text"><code>scrape_configs:
  - job_name: 'spring'
	metrics_path: '/actuator/prometheus'
	static_configs:
	  - targets: ['HOST:PORT']
</code></pre></div><h4 id="_57-2-14-signalfx"><a href="#_57-2-14-signalfx" aria-hidden="true" class="header-anchor">#</a> 57.2.14 SignalFx</h4> <p>SignalFx registry定期将指标推送到SignalFx。要将指标导出到SignalFx，必须提供您的访问令牌:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.signalfx.access-token=YOUR_ACCESS_TOKEN
</code></pre></div><p>您还可以更改指标发送到SignalFx的时间间隔:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.signalfx.step=30s
</code></pre></div><h4 id="_57-2-15-simple"><a href="#_57-2-15-simple" aria-hidden="true" class="header-anchor">#</a> 57.2.15 Simple</h4> <p>Micrometer附带一个简单的内存后端，如果没有配置其他注册表，该后端将自动用作回退。这允许您查看度量端点中收集了哪些度量。</p> <p>只要使用任何其他可用后端，内存中的后端就会禁用自己。你也可以显式禁用它:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.simple.enabled=false
</code></pre></div><h4 id="_57-2-16-statsd"><a href="#_57-2-16-statsd" aria-hidden="true" class="header-anchor">#</a> 57.2.16 StatsD</h4> <p>StatsD注册表急切地将指标通过UDP推送到StatsD代理。默认情况下，指标被导出到运行在本地机器上的StatsD代理。可以使用以下方法提供要使用的StatsD代理主机和端口:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.statsd.host=statsd.example.com
management.metrics.export.statsd.port=9125
</code></pre></div><p>您还可以更改StatsD行协议来使用(默认为Datadog):</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.statsd.flavor=etsy
</code></pre></div><h4 id="_57-2-17-wavefront"><a href="#_57-2-17-wavefront" aria-hidden="true" class="header-anchor">#</a> 57.2.17 Wavefront</h4> <p>Wavefront注册表定期将度量推送到Wavefront。如果直接将度量导出到Wavefront，则必须提供API令牌：</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.wavefront.api-token=YOUR_API_TOKEN
</code></pre></div><p>或者，您可以使用Wavefront SideCar或在您的环境中设置的将度量数据转发到Wavefront API主机的内部代理：</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.wavefront.uri=proxy://localhost:2878
</code></pre></div><blockquote><p>如果将指标发布到一个波前代理(如文档中所述)，主机必须采用代理:// host:PORT格式。</p></blockquote> <p>你也可以改变数据发送到波前的时间间隔:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.export.wavefront.step=30s
</code></pre></div><h3 id="_57-3-supported-metrics"><a href="#_57-3-supported-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3 Supported Metrics</h3> <p>Spring Boot在适用时注册以下核心指标:</p> <ul><li><p>JVM指标，报告利用率：</p> <ul><li>各种内存和缓冲池</li> <li>与垃圾收集有关的统计</li> <li>线程利用率</li> <li>加载/卸载的类数</li></ul></li> <li><p>CPU指标</p></li> <li><p>文件描述符指标</p></li> <li><p>Kafka消费者指标</p></li> <li><p>Log4j2指标：记录每个级别记录到Log4j2的事件数</p></li> <li><p>Logback指标：记录每个级别记录到Logback的事件数</p></li> <li><p>正常运行时间指标：报告正常运行时间表和表示应用程序绝对启动时间的固定计量表</p></li> <li><p>Tomcat指标</p></li> <li><p>Spring Integration指标</p></li></ul> <h4 id="_57-3-1-spring-mvc-metrics"><a href="#_57-3-1-spring-mvc-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.1 Spring MVC Metrics</h4> <p>自动配置启用Spring MVC处理的请求的检测。 当management.metrics.web.server.auto-time-requests为true时，将对所有请求进行此检测。 或者，当设置为false时，您可以通过将@Timed添加到请求处理方法来启用检测：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Timed</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/people&quot;</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@Timed</span><span class="token punctuation">(</span>extraTags <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;region&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;us-east-1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
	<span class="token annotation punctuation">@Timed</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;all.people&quot;</span><span class="token punctuation">,</span> longTask <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> 
	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token function">listPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>一个控制器类，用于在控制器中的每个请求处理程序上启用计时。</p></li> <li><p>一种启用单个端点的方法。 如果您在类上拥有它，则不需要这样做，但可以用于进一步自定义此特定端点的计时器。</p></li> <li><p>使用longTask = true的方法为该方法启用长任务计时器。 长任务计时器需要单独的度量标准名称，并且可以使用短任务计时器进行堆叠。</p></li></ul> <p>默认情况下，使用名称http.server.requests生成度量标准。 可以通过设置management.metrics.web.server.requests-metric-name属性来自定义名称。</p> <p>默认情况下，与Spring mvc相关的指标被标记为以下信息:</p> <table><thead><tr><th>Tag</th> <th>Description</th></tr></thead> <tbody><tr><td><code>exception</code></td> <td>处理请求时抛出的任何异常的简单类名。</td></tr> <tr><td><code>method</code></td> <td>请求的方法(例如，GET或POST)</td></tr> <tr><td><code>outcome</code></td> <td>请求的结果基于响应的状态代码。1xx是信息性的，2xx是成功的，3xx是重定向，4xx是CLIENT_ERROR, 5xx是SERVER_ERROR</td></tr> <tr><td><code>status</code></td> <td>响应的HTTP状态码(例如，200或500)</td></tr> <tr><td><code>uri</code></td> <td>如果可能，在变量替换之前请求的URI模板(例如/api/person/{id})</td></tr></tbody></table> <p>要自定义标记，请提供一个实现WebMvcTagsProvider的@Bean。</p> <h4 id="_57-3-2-spring-webflux-metrics"><a href="#_57-3-2-spring-webflux-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.2 Spring WebFlux Metrics</h4> <p>自动配置支持WebFlux控制器和功能处理程序处理的所有请求的检测。</p> <p>默认情况下，使用http.server.requests生成指标。您可以通过设置management.metrics.web.server.requests-metric-name自定义名称。</p> <p>默认情况下，与webflux相关的度量指标被标记为以下信息:</p> <table><thead><tr><th>Tag</th> <th>Description</th></tr></thead> <tbody><tr><td><code>exception</code></td> <td>处理请求时抛出的任何异常的简单类名。</td></tr> <tr><td><code>method</code></td> <td>请求的方法(例如，GET或POST)</td></tr> <tr><td><code>outcome</code></td> <td>请求的结果基于响应的状态代码。1xx是信息性的，2xx是成功的，3xx是重定向，4xx是CLIENT_ERROR, 5xx是SERVER_ERROR</td></tr> <tr><td><code>status</code></td> <td>响应的HTTP状态码(例如，200或500)</td></tr> <tr><td><code>uri</code></td> <td>如果可能，在变量替换之前请求的URI模板(例如/api/person/{id})</td></tr></tbody></table> <p>要定制标记，请提供一个实现WebFluxTagsProvider的@Bean。</p> <h4 id="_57-3-3-jersey-server-metrics"><a href="#_57-3-3-jersey-server-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.3 Jersey Server Metrics</h4> <p>自动配置可以对Jersey JAX-RS实现处理的请求进行检测。 当management.metrics.web.server.auto-time-requests为true时，将对所有请求进行此检测。 或者，当设置为false时，您可以通过将@Timed添加到请求处理方法来启用检测：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;/api/people&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Timed</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Endpoint</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@GET</span>
	<span class="token annotation punctuation">@Timed</span><span class="token punctuation">(</span>extraTags <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;region&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;us-east-1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
	<span class="token annotation punctuation">@Timed</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;all.people&quot;</span><span class="token punctuation">,</span> longTask <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> 
	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token function">listPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li><p>在资源类上，为资源中的每个请求处理程序启用计时。</p></li> <li><p>在启用单个端点的方法上。 如果您在类上拥有它，则不需要这样做，但可以用于进一步自定义此特定端点的计时器。</p></li> <li><p>在具有longTask = true的方法上，为该方法启用长任务计时器。 长任务计时器需要单独的度量标准名称，并且可以使用短任务计时器进行堆叠。</p></li></ol> <p>默认情况下，使用名称http.server.requests生成度量标准。 可以通过设置management.metrics.web.server.requests-metric-name属性来自定义名称。</p> <p>默认情况下，Jersey服务器指标标记有以下信息：</p> <table><thead><tr><th>Tag</th> <th>Description</th></tr></thead> <tbody><tr><td><code>exception</code></td> <td>Simple class name of any exception that was thrown while handling the request.</td></tr> <tr><td><code>method</code></td> <td>Request’s method (for example, <code>GET</code> or <code>POST</code>)</td></tr> <tr><td><code>outcome</code></td> <td>Request’s outcome based on the status code of the response. 1xx is <code>INFORMATIONAL</code>, 2xx is <code>SUCCESS</code>, 3xx is <code>REDIRECTION</code>, 4xx <code>CLIENT_ERROR</code>, and 5xx is <code>SERVER_ERROR</code></td></tr> <tr><td><code>status</code></td> <td>Response’s HTTP status code (for example, <code>200</code> or <code>500</code>)</td></tr> <tr><td><code>uri</code></td> <td>Request’s URI template prior to variable substitution, if possible (for example, <code>/api/person/{id}</code>)</td></tr></tbody></table> <p>要定制标记，请提供一个实现JerseyTagsProvider的@Bean。</p> <h4 id="_57-3-4-http-client-metrics"><a href="#_57-3-4-http-client-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.4 HTTP Client Metrics</h4> <p>Spring Boot致动器管理RestTemplate和WebClient的检测。为此，你必须注入一个自动配置的生成器，并使用它来创建实例:</p> <ul><li><code>RestTemplateBuilder</code> for <code>RestTemplate</code></li> <li><code>WebClient.Builder</code> for <code>WebClient</code></li></ul> <p>还可以手动应用负责该检测的定制器，即MetricsRestTemplateCustomizer和MetricsWebClientCustomizer。</p> <p>默认情况下，使用名称http.client.requests生成度量标准。 可以通过设置management.metrics.web.client.requests-metric-name属性来自定义名称。</p> <p>默认情况下，由仪器化的客户端生成的度量用以下信息标记:</p> <ul><li>方法，请求的方法（例如，GET或POST）。</li> <li>uri，变量替换之前的请求URI模板（如果可能）（例如，/ api / person / {id}）。</li> <li>status，响应的HTTP状态代码（例如，200或500）。</li> <li>clientName，URI的主机部分。</li></ul> <p>要自定义标记，并根据您选择的客户端，您可以提供实现RestTemplateExchangeTagsProvider或WebClientExchangeTagsProvider的@Bean。 RestTemplateExchangeTags和WebClientExchangeTags中有方便的静态函数。</p> <h4 id="_57-3-5-cache-metrics"><a href="#_57-3-5-cache-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.5 Cache Metrics</h4> <p>自动配置支持在启动时使用带缓存前缀的度量来检测所有可用的缓存。缓存检测是为一组基本指标标准化的。此外，特定于缓存的指标也可用。</p> <p>支持以下缓存库:</p> <ul><li>Caffeine</li> <li>EhCache 2</li> <li>Hazelcast</li> <li>Any compliant JCache (JSR-107) implementation</li></ul> <p>指标由缓存的名称和从bean名称派生的CacheManager的名称来标记。</p> <p>只有启动时可用的缓存才会绑定到注册表。 对于在启动阶段后即时或以编程方式创建的缓存，需要显式注册。 CacheMetricsRegistrar bean可用于简化该过程。</p> <h4 id="_57-3-6-datasource-metrics"><a href="#_57-3-6-datasource-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.6 DataSource Metrics</h4> <p>自动配置使用名为jdbc的度量标准启用所有可用DataSource对象的检测。 数据源检测会生成表示池中当前活动，最大允许和最小允许连接的计量器。 这些仪表中的每一个都有一个以jdbc为前缀的名称。</p> <p>度量标准也由基于bean名称计算的DataSource的名称标记。</p> <blockquote><p>默认情况下，Spring Boot为所有支持的数据源提供元数据; 如果开箱即用不支持您喜欢的数据源，则可以添加其他DataSourcePoolMetadataProvider bean。 有关示例，请参阅DataSourcePoolMetadataProvidersConfiguration。</p></blockquote> <p>此外，Hikari特定的指标用hikaricp前缀公开。 每个度量标准都由池的名称标记（可以使用spring.datasource.name控制）。</p> <h4 id="_57-3-7-hibernate-metrics"><a href="#_57-3-7-hibernate-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.7 Hibernate Metrics</h4> <p>自动配置启用所有可用Hibernate EntityManagerFactory实例的检测，这些实例使用名为hibernate的度量标准启用统计信息。</p> <p>度量标准也由从bean名称派生的EntityManagerFactory的名称标记。</p> <p>要启用统计信息，必须将标准JPA属性hibernate.generate_statistics设置为true。 您可以在自动配置的EntityManagerFactory上启用它，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>spring.jpa.properties.hibernate.generate_statistics=true
</code></pre></div><h4 id="_57-3-8-rabbitmq-metrics"><a href="#_57-3-8-rabbitmq-metrics" aria-hidden="true" class="header-anchor">#</a> 57.3.8 RabbitMQ Metrics</h4> <p>自动配置将使用名为RabbitMQ的度量启用所有可用RabbitMQ连接工厂的检测。</p> <h3 id="_57-4-registering-custom-metrics"><a href="#_57-4-registering-custom-metrics" aria-hidden="true" class="header-anchor">#</a> 57.4 Registering custom metrics</h3> <p>要注册自定义指标，请将MeterRegistry注入组件，如下面的示例所示:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Dictionary</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> words <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">Dictionary</span><span class="token punctuation">(</span><span class="token class-name">MeterRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		registry<span class="token punctuation">.</span><span class="token function">gaugeCollectionSize</span><span class="token punctuation">(</span><span class="token string">&quot;dictionary.size&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Tags</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// …</span>

<span class="token punctuation">}</span>
</code></pre></div><p>如果您发现您在组件或应用程序之间反复测试一套度量标准，您可以将该套件封装在MeterBinder实现中。默认情况下，来自所有MeterBinder bean的度量将自动绑定到spring管理的MeterRegistry。</p> <h3 id="_57-5-customizing-individual-metrics"><a href="#_57-5-customizing-individual-metrics" aria-hidden="true" class="header-anchor">#</a> 57.5 Customizing individual metrics</h3> <p>如果需要对特定的Meter实例应用定制，可以使用io.micrometer.core.instrument.config。MeterFilter接口。默认情况下，所有MeterFilter bean都将自动应用到micrometer MeterRegistry.Config。</p> <p>例如，如果要将以com.example开头的所有仪表ID的mytag.region标记重命名为mytag.area，可以执行以下操作：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">MeterFilter</span> <span class="token function">renameRegionTagMeterFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token class-name">MeterFilter</span><span class="token punctuation">.</span><span class="token function">renameTag</span><span class="token punctuation">(</span><span class="token string">&quot;com.example&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mytag.region&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mytag.area&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_57-5-1-common-tags"><a href="#_57-5-1-common-tags" aria-hidden="true" class="header-anchor">#</a> 57.5.1 Common tags</h4> <p>通用标记通常用于操作环境上的维度钻取，如主机、实例、区域、堆栈等。Commons标签适用于所有的米，可以配置如下例所示:</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.tags.region=us-east-1
management.metrics.tags.stack=prod
</code></pre></div><p>上面的示例将region和stack标签添加到所有仪表，其值分别为us-east-1和prod。</p> <blockquote><p>如果您使用Graphite，常用标签的顺序很重要。 由于使用此方法无法保证常用标记的顺序，因此建议Graphite用户定义自定义MeterFilter。57.5.2 Per-meter properties</p></blockquote> <h4 id="_57-5-2-per-meter-properties"><a href="#_57-5-2-per-meter-properties" aria-hidden="true" class="header-anchor">#</a> 57.5.2 Per-meter properties</h4> <p>除了MeterFilter bean之外，还可以使用属性在每米的基础上应用有限的定制集。每米自定义适用于任何以给定名称开头的所有米id。例如，下面的代码将禁用ID以example.remote开头的任何表</p> <div class="language- extra-class"><pre class="language-text"><code>management.metrics.enable.example.remote=false
</code></pre></div><p>以下属性允许每米自定义:</p> <p><strong>Table 57.1. Per-meter customizations</strong></p> <table><thead><tr><th>Property</th> <th>Description</th></tr></thead> <tbody><tr><td><code>management.metrics.enable</code></td> <td>是否拒绝仪表发出任何指标。</td></tr> <tr><td><code>management.metrics.distribution.percentiles-histogram</code></td> <td>是否发布适合计算可聚合(跨维度)百分位数近似的直方图。</td></tr> <tr><td><code>management.metrics.distribution.minimum-expected-value</code>,<code>management.metrics.distribution.maximum-expected-value</code></td> <td>通过夹紧期望值范围来发布更少的直方图桶。</td></tr> <tr><td><code>management.metrics.distribution.percentiles</code></td> <td>发布应用程序中计算的百分位数值</td></tr> <tr><td><code>management.metrics.distribution.sla</code></td> <td>发布包含sla定义的桶的累积直方图。</td></tr></tbody></table> <p>有关百分位数柱状图、百分位数和SLA背后概念的更多详细信息，请参阅测微计文档的“柱状图和百分位数”部分。</p> <h3 id="_57-6-metrics-endpoint"><a href="#_57-6-metrics-endpoint" aria-hidden="true" class="header-anchor">#</a> 57.6 Metrics endpoint</h3> <p>Spring Boot提供了一个度量端点，可以在诊断中用于检查应用程序收集的度量标准。 默认情况下端点不可用，必须公开，请参阅公开端点以获取更多详细信息。</p> <p>导航到/ actuator / metrics会显示可用的仪表名称列表。 您可以向下钻取以查看有关特定仪表的信息，方法是将其名称作为选择器，例如，/actuator/metrics/jvm.memory.max。</p> <blockquote><p>您在此处使用的名称应与代码中使用的名称相匹配，而不是在命名之后的名称 - 为其运送到的监视系统规范化的约定。 换句话说，如果jvm.memory.max由于其snake case命名约定而在Prometheus中显示为jvm_memory_max，则在检查度量标准端点中的仪表时，仍应使用jvm.memory.max作为选择器。</p></blockquote> <p>您还可以在URL的末尾添加任意数量的tag = KEY：VALUE查询参数，以便按比例向下钻取仪表，例如/actuator/metrics/jvm.memory.max?tag=area:nonheap。</p> <blockquote><p>报告的测量值是与仪表名称和已应用的任何标签匹配的所有仪表的统计数据的总和。 因此，在上面的示例中，返回的“Value”统计信息是堆的“Code Cache”，“Compressed Class Space”和“Metaspace”区域的最大内存占用量的总和。 如果您只想查看“Metaspace”的最大大小，可以添加一个额外的tag = id：Metaspace，即/actuator/metrics/jvm.memory.max?tag=area:nonheap&amp;tag=id:Metaspace。</p></blockquote> <h2 id="_58-auditing"><a href="#_58-auditing" aria-hidden="true" class="header-anchor">#</a> 58. Auditing</h2> <p>一旦Spring Security发挥作用，Spring Boot Actuator就有一个灵活的审计框架，可以发布事件（默认情况下，“身份验证成功”，“失败”和“访问被拒绝”例外）。 此功能对于报告和基于身份验证失败实施锁定策略非常有用。 要自定义已发布的安全事件，您可以提供自己的AbstractAuthenticationAuditListener和AbstractAuthorizationAuditListener实现。</p> <p>您还可以将审计服务用于您自己的业务事件。 为此，请将现有的AuditEventRepository注入您自己的组件并直接使用它或使用Spring ApplicationEventPublisher（通过实现ApplicationEventPublisherAware）发布AuditApplicationEvent。</p> <h2 id="_59-http-tracing"><a href="#_59-http-tracing" aria-hidden="true" class="header-anchor">#</a> 59. HTTP Tracing</h2> <p>将自动为所有HTTP请求启用跟踪。 您可以查看httptrace端点并获取有关最近100次请求 - 响应交换的基本信息。</p> <h4 id="_59-1自定义http跟踪"><a href="#_59-1自定义http跟踪" aria-hidden="true" class="header-anchor">#</a> 59.1自定义HTTP跟踪</h4> <p>要自定义每个跟踪中包含的项，请使用management.trace.http.include配置属性。 对于高级自定义，请考虑注册自己的HttpExchangeTracer实现。</p> <p>默认情况下，使用存储最后100个请求 - 响应交换的跟踪的InMemoryHttpTraceRepository。 如果需要扩展容量，可以定义自己的InMemoryHttpTraceRepository bean实例。 您还可以创建自己的替代HttpTraceRepository实现。</p> <h2 id="_60-过程监控"><a href="#_60-过程监控" aria-hidden="true" class="header-anchor">#</a> 60. 过程监控</h2> <p>在spring-boot模块中，您可以找到两个类来创建通常对进程监控有用的文件:</p> <ul><li>ApplicationPidFileWriter创建一个包含应用程序PID的文件（默认情况下，在应用程序目录中，文件名为application.pid）。</li> <li>WebServerPortFileWriter创建一个或多个文件，其中包含正在运行的Web服务器的端口（默认情况下，在应用程序目录中，文件名为application.port）。</li></ul> <p>默认情况下，这些写入器不会被激活，但您可以启用:</p> <ul><li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-process-monitoring-configuration" target="_blank" rel="noopener noreferrer">By Extending Configuration(通过扩展配置)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#production-ready-process-monitoring-programmatically" target="_blank" rel="noopener noreferrer">Section 60.2, “Programmatically”(60.2节,“编程”)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="_60-1扩展配置"><a href="#_60-1扩展配置" aria-hidden="true" class="header-anchor">#</a> 60.1扩展配置</h3> <p>在META-INF / spring.factories文件中，您可以激活写入PID文件的侦听器，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>org.springframework.context.ApplicationListener=\
org.springframework.boot.context.ApplicationPidFileWriter,\
org.springframework.boot.web.context.WebServerPortFileWriter
</code></pre></div><h3 id="_60-2以编程方式"><a href="#_60-2以编程方式" aria-hidden="true" class="header-anchor">#</a> 60.2以编程方式</h3> <p>您还可以通过调用springapplication . addlistener(…)方法并传递适当的Writer对象来激活侦听器。此方法还允许您在Writer构造函数中自定义文件名和路径。</p> <h2 id="_61-cloud-foundry-support-云计算支持"><a href="#_61-cloud-foundry-support-云计算支持" aria-hidden="true" class="header-anchor">#</a> 61.Cloud Foundry Support 云计算支持</h2> <p>Spring Boot的执行器模块包括在部署到兼容的Cloud Foundry实例时激活的其他支持。 / cloudfoundryapplication路径为所有@Endpoint bean提供了另一种安全路由。</p> <p>扩展支持允许使用Spring Boot执行器信息扩充Cloud Foundry管理UI（例如可用于查看已部署应用程序的Web应用程序）。 例如，应用程序状态页面可以包括完整的健康信息而不是典型的“运行”或“停止”状态。</p> <blockquote><p>普通用户不能直接访问/cloudfoundryapplication路径。为了使用端点，必须与请求一起传递一个有效的UAA令牌</p></blockquote> <h3 id="_61-1禁用extended-cloud-foundry-actuator支持"><a href="#_61-1禁用extended-cloud-foundry-actuator支持" aria-hidden="true" class="header-anchor">#</a> 61.1禁用Extended Cloud Foundry Actuator支持</h3> <p>如果要完全禁用/ cloudfoundryapplication端点，可以将以下设置添加到application.properties文件中：</p> <p><strong>application.properties.</strong></p> <div class="language- extra-class"><pre class="language-text"><code>management.cloudfoundry.enabled=false
</code></pre></div><h3 id="_61-2-cloud-foundry自签名证书"><a href="#_61-2-cloud-foundry自签名证书" aria-hidden="true" class="header-anchor">#</a> 61.2 Cloud Foundry自签名证书</h3> <p>默认情况下，/ cloudfoundryapplication端点的安全验证会对各种Cloud Foundry服务进行SSL调用。 如果您的Cloud Foundry UAA或Cloud Controller服务使用自签名证书，则需要设置以下属性：</p> <p><strong>application.properties.</strong></p> <div class="language- extra-class"><pre class="language-text"><code>management.cloudfoundry.skip-ssl-validation=true
</code></pre></div><h3 id="_61-3自定义上下文路径"><a href="#_61-3自定义上下文路径" aria-hidden="true" class="header-anchor">#</a> 61.3自定义上下文路径</h3> <p>如果服务器的上下文路径已配置为除/以外的任何内容，则CloudFoundry端点将在应用程序的根目录下不可用。例如，如果server.servlet.context-path=/app, Cloud Foundry的端点将在/app/cloudfoundryapplication/*上可用。</p> <p>如果您希望Cloud Foundry端点始终在/cloudfoundryapplication/*上可用，无论服务器的上下文路径如何，您都需要在应用程序中显式地配置它。配置将根据使用的web服务器而有所不同。对于Tomcat，可以添加以下配置:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">TomcatServletWebServerFactory</span> <span class="token function">servletWebServerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TomcatServletWebServerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">prepareContext</span><span class="token punctuation">(</span><span class="token class-name">Host</span> host<span class="token punctuation">,</span>
				<span class="token class-name">ServletContextInitializer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> initializers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">prepareContext</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> initializers<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">StandardContext</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StandardContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child<span class="token punctuation">.</span><span class="token function">addLifecycleListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tomcat</span><span class="token punctuation">.</span><span class="token class-name">FixContextListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">&quot;/cloudfoundryapplication&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">ServletContainerInitializer</span> initializer <span class="token operator">=</span> <span class="token function">getServletContextInitializer</span><span class="token punctuation">(</span>
					<span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child<span class="token punctuation">.</span><span class="token function">addServletContainerInitializer</span><span class="token punctuation">(</span>initializer<span class="token punctuation">,</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child<span class="token punctuation">.</span><span class="token function">setCrossContext</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			host<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">ServletContainerInitializer</span> <span class="token function">getServletContextInitializer</span><span class="token punctuation">(</span><span class="token class-name">String</span> contextPath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>c<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
		<span class="token class-name">Servlet</span> servlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token annotation punctuation">@Override</span>
			<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> res<span class="token punctuation">)</span>
					<span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
				<span class="token class-name">ServletContext</span> context <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span>contextPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
				context<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/cloudfoundryapplication&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>
						res<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		context<span class="token punctuation">.</span><span class="token function">addServlet</span><span class="token punctuation">(</span><span class="token string">&quot;cloudfoundry&quot;</span><span class="token punctuation">,</span> servlet<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_62-what-to-read-next"><a href="#_62-what-to-read-next" aria-hidden="true" class="header-anchor">#</a> 62.What to Read Next</h2> <p>如果您想了解本章讨论的一些概念，可以查看执行器示例应用程序。您可能还想阅读有关石墨等绘图工具的资料。</p> <p>否则，您可以继续阅读有关“部署选项”的内容，或者继续深入了解有关Spring Boot构建工具插件的信息。</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/SpringBoot/4.html" class="prev">
          第四部分:SpringBoot特性
        </a></span> <span class="next"><a href="/SpringBoot/6.html">
          第六部分.部署 Spring Boot 应用
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.6b6e86e7.js" defer></script><script src="/assets/js/11.d76103e2.js" defer></script>
  </body>
</html>
